<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>meublog</title>
<link>https://your-website-url.example.com/</link>
<atom:link href="https://your-website-url.example.com/index.xml" rel="self" type="application/rss+xml"/>
<description>A blog built with Quarto</description>
<generator>quarto-1.8.26</generator>
<lastBuildDate>Sun, 23 Nov 2025 00:00:00 GMT</lastBuildDate>
<item>
  <title>Cotação do Dólar por Período</title>
  <dc:creator>Luigi Del Vecchio</dc:creator>
  <link>https://your-website-url.example.com/posts/post-with-code/</link>
  <description><![CDATA[ 





<p><strong>Atividade 01</strong></p>
<p>Neste post mostrarei como criei uma rotina que <strong>analisa os dados da cotação do dólar</strong> no período de fevereiro de 2010.</p>
<p>Primeiro vamos começar criando a função <strong>cotar</strong>, que busca os dados de venda do dólar em X data, no meu caso 02/2010.</p>
<div id="c51d030e" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> requests</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> datetime <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> datetime, timedelta</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> cotar(data):</span>
<span id="cb1-5"></span>
<span id="cb1-6">    url <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">fr"https://olinda</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">bcb</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">gov</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">br/olinda/servico/PTAX/versao/v1/odata/"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-7">          <span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">fr"CotacaoDolarDia</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">(</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">dataCotacao=@dataCotacao</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">)</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">?</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">@dataCotacao='</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">'&amp;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">$</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">format=json"</span></span>
<span id="cb1-8"></span>
<span id="cb1-9">    res <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> requests.get(url)</span>
<span id="cb1-10">    res <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> res.json()</span>
<span id="cb1-11"></span>
<span id="cb1-12">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># caso exista dados para esse dia</span></span>
<span id="cb1-13">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> res[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'value'</span>]: </span>
<span id="cb1-14">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> res[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'value'</span>][<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cotacaoVenda'</span>]</span>
<span id="cb1-15"></span>
<span id="cb1-16">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># caso não exista dados, como sábado, domingo ou feriados</span></span>
<span id="cb1-17">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb1-18">        dia_anterior <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.strptime(data, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%m</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%Y"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> timedelta(days<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-19">        dia_anterior <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.strftime(dia_anterior, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%m</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%Y"</span>)</span>
<span id="cb1-20">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> cotar(dia_anterior)</span></code></pre></div></div>
</div>
<p>Agora com essa primeira etapa feita podemos seguir com a busca dos dados e exibir em um gráfico, utilizando o <strong>plotly</strong>.</p>
<div id="79c7da3a" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> calendar</span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> datetime <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> datetime, timedelta</span>
<span id="cb2-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb2-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> plotly.express <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> px</span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> cotacao_mes(mes_ano):</span>
<span id="cb2-7"></span>
<span id="cb2-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""vai receber uma string no formato mes/ano.</span></span>
<span id="cb2-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    e em seguida retorna um dataframe com a data e as respectiva cotação do dólar."""</span></span>
<span id="cb2-10"></span>
<span id="cb2-11">    data_inicial <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datetime.strptime(mes_ano, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%m%Y"</span>)</span>
<span id="cb2-12"></span>
<span id="cb2-13">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># essa parte descobre para gente o último dia do mês informado</span></span>
<span id="cb2-14">    ultimo_dia <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> calendar.monthrange(data_inicial.year, data_inicial.month)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb2-15">    data_final <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> data_inicial.replace(day<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ultimo_dia)</span>
<span id="cb2-16"></span>
<span id="cb2-17">    datas <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> []</span>
<span id="cb2-18">    cotacoes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> []</span>
<span id="cb2-19"></span>
<span id="cb2-20">    data_atual <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> data_inicial</span>
<span id="cb2-21"></span>
<span id="cb2-22">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> data_atual <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> data_final:</span>
<span id="cb2-23">        data_formatada <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> data_atual.strftime(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%m</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%d</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">%Y"</span>)</span>
<span id="cb2-24">        cotacao <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> cotar(data_formatada)</span>
<span id="cb2-25"></span>
<span id="cb2-26">        datas.append(data_atual.date())</span>
<span id="cb2-27">        cotacoes.append(cotacao)</span>
<span id="cb2-28"></span>
<span id="cb2-29">        data_atual <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> timedelta(days<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-30"></span>
<span id="cb2-31">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># criar dataFrame</span></span>
<span id="cb2-32">    df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame({</span>
<span id="cb2-33">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data"</span>: datas,</span>
<span id="cb2-34">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cotação (R$)"</span>: cotacoes</span>
<span id="cb2-35">    })</span>
<span id="cb2-36"></span>
<span id="cb2-37">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> df</span>
<span id="cb2-38"></span>
<span id="cb2-39"></span>
<span id="cb2-40"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> plotar_cotacao(mes_ano):</span>
<span id="cb2-41">    </span>
<span id="cb2-42">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># essa função fica responsável por criar o gráfico</span></span>
<span id="cb2-43">    df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> cotacao_mes(mes_ano)</span>
<span id="cb2-44"></span>
<span id="cb2-45">    fig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> px.line(</span>
<span id="cb2-46">        df,</span>
<span id="cb2-47">        x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data"</span>,</span>
<span id="cb2-48">        y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cotação (R$)"</span>,</span>
<span id="cb2-49">        title<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Cotação do Dólar - </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>mes_ano[:<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>mes_ano[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>:]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb2-50">        labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Dia"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cotação (R$)"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cotação do Dólar (Venda)"</span>}</span>
<span id="cb2-51">    )</span>
<span id="cb2-52"></span>
<span id="cb2-53">    fig.show()</span>
<span id="cb2-54"></span>
<span id="cb2-55">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> df</span>
<span id="cb2-56"></span>
<span id="cb2-57"></span>
<span id="cb2-58"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># no nosso caso vai exibir fevereiro de 2010</span></span>
<span id="cb2-59">df_fevereiro <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plotar_cotacao(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"022010"</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.2.0.min.js" integrity="sha256-iZ2u/oU2wf/vDbl/ChcX93WgbBRSBvUO6N413hDz7xM=" crossorigin="anonymous"></script>                <div id="c9dcf2f3-8749-446b-9ff9-2c7886847e9f" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("c9dcf2f3-8749-446b-9ff9-2c7886847e9f")) {                    Plotly.newPlot(                        "c9dcf2f3-8749-446b-9ff9-2c7886847e9f",                        [{"hovertemplate":"Dia=%{x}\u003cbr\u003eCota\u00e7\u00e3o do D\u00f3lar (Venda)=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["2010-02-01","2010-02-02","2010-02-03","2010-02-04","2010-02-05","2010-02-06","2010-02-07","2010-02-08","2010-02-09","2010-02-10","2010-02-11","2010-02-12","2010-02-13","2010-02-14","2010-02-15","2010-02-16","2010-02-17","2010-02-18","2010-02-19","2010-02-20","2010-02-21","2010-02-22","2010-02-23","2010-02-24","2010-02-25","2010-02-26","2010-02-27","2010-02-28"],"xaxis":"x","y":{"dtype":"f8","bdata":"KH6MuWsJ\u002fj8aUdobfGH9P5\u002fNqs\u002fVVv0\u002fi2zn+6nx\u002fT9TBaOSOgH+P1MFo5I6Af4\u002fUwWjkjoB\u002fj8rhxbZzvf9P65H4XoUrv0\u002fGCZTBaOS\u002fT+qYFRSJ6D9P6wcWmQ73\u002f0\u002frBxaZDvf\u002fT+sHFpkO9\u002f9P6wcWmQ73\u002f0\u002frBxaZDvf\u002fT8Fo5I6AU39P0T67evAOf0\u002fB\u002fAWSFD8\u002fD8H8BZIUPz8PwfwFkhQ\u002fPw\u002fHcnlP6Tf\u002fD\u002fwFkhQ\u002fBj9P3KKjuTyH\u002f0\u002fi\u002f1l9+Rh\u002fT9g5dAi2\u002fn8P2Dl0CLb+fw\u002fYOXQItv5\u002fD8="},"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Dia"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Cota\u00e7\u00e3o do D\u00f3lar (Venda)"}},"legend":{"tracegroupgap":0},"title":{"text":"Cota\u00e7\u00e3o do D\u00f3lar - 02\u002f2010"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c9dcf2f3-8749-446b-9ff9-2c7886847e9f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<p>E assim conseguimos fazer todo o acompanhamento do dólar no mês de fevereiro de 2010!</p>



 ]]></description>
  <category>api</category>
  <category>code</category>
  <category>python</category>
  <category>dolar</category>
  <category>analise</category>
  <guid>https://your-website-url.example.com/posts/post-with-code/</guid>
  <pubDate>Sun, 23 Nov 2025 00:00:00 GMT</pubDate>
  <media:content url="https://your-website-url.example.com/posts/post-with-code/dolar.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Monitoramento de Frota de Ônibus</title>
  <dc:creator>Luigi Del Vecchio</dc:creator>
  <link>https://your-website-url.example.com/posts/welcome/</link>
  <description><![CDATA[ 





<p><strong>Atividade 02</strong></p>
<p>Nessa atividade eu mostro como criar um construir um <strong>mapa com os pontos de parada de uma linha de ônibus</strong> e também mostrar (caso possível) onde o ônibus está no momento da execução.</p>
<p>Primeiro realizamos a autenticação na <strong>API do SPTRNS</strong>, utilizando nosso <strong>TOKEN</strong></p>
<div id="3004d8e4" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> requests</span>
<span id="cb1-2"></span>
<span id="cb1-3">TOKEN <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ea84177763f74df8756725d22f7b5f3140e40aed0acd375bce74b35b354c16b2"</span></span>
<span id="cb1-4">BASE_URL <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"http://api.olhovivo.sptrans.com.br/v2.1"</span></span>
<span id="cb1-5"></span>
<span id="cb1-6">sessao <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> requests.Session()</span>
<span id="cb1-7"></span>
<span id="cb1-8">login <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sessao.post(</span>
<span id="cb1-9">    <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>BASE_URL<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/Login/Autenticar"</span>,</span>
<span id="cb1-10">    params<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"token"</span>: TOKEN}</span>
<span id="cb1-11">)</span>
<span id="cb1-12"></span>
<span id="cb1-13"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> login.text <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"true"</span>:</span>
<span id="cb1-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">Exception</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Erro na autenticação com o Olho Vivo"</span>)</span></code></pre></div></div>
</div>
<p>Após a autenticação podemos realmente começar a montar o nosso mapa com as informações, informando qual é a URL e Linha, no nosso caso será a linha “8000” que é uma linha de teste da própria API, no momento que estava fazendo a ativdade acabei tomando limite de tempo e precisei usar essa linha.</p>
<div id="a241c37e" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> requests</span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> folium</span>
<span id="cb2-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> IPython.display <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> display</span>
<span id="cb2-4"></span>
<span id="cb2-5">LINHA <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"8000"</span></span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># buscamos a linha informada</span></span>
<span id="cb2-8">linha_response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sessao.get(</span>
<span id="cb2-9">    <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>BASE_URL<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/Linha/Buscar"</span>,</span>
<span id="cb2-10">    params<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"termosBusca"</span>: LINHA}</span>
<span id="cb2-11">)</span>
<span id="cb2-12"></span>
<span id="cb2-13">linha_dados <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> linha_response.json()</span>
<span id="cb2-14"></span>
<span id="cb2-15"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> linha_dados:</span>
<span id="cb2-16">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">Exception</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"linha não encontrada na API."</span>)</span>
<span id="cb2-17"></span>
<span id="cb2-18"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"linhas retornadas pela API:"</span>)</span>
<span id="cb2-19"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> linha <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> linha_dados:</span>
<span id="cb2-20">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(linha)</span>
<span id="cb2-21"></span>
<span id="cb2-22">codigo_linha <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> linha_dados[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cl"</span>]</span>
<span id="cb2-23"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Código da linha:"</span>, codigo_linha)</span>
<span id="cb2-24"></span>
<span id="cb2-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># buscamos as paradas</span></span>
<span id="cb2-26">paradas_response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sessao.get(</span>
<span id="cb2-27">    <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>BASE_URL<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/Parada/BuscarParadasPorLinha"</span>,</span>
<span id="cb2-28">    params<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"codigoLinha"</span>: codigo_linha}</span>
<span id="cb2-29">)</span>
<span id="cb2-30"></span>
<span id="cb2-31">paradas <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> paradas_response.json()</span>
<span id="cb2-32"></span>
<span id="cb2-33"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Paradas encontradas:"</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(paradas))</span>
<span id="cb2-34"></span>
<span id="cb2-35"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> paradas:</span>
<span id="cb2-36">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nenhuma parada encontrada para essa linha!"</span>)</span>
<span id="cb2-37">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Código usado:"</span>, codigo_linha)</span>
<span id="cb2-38">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">Exception</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a API não retornou paradas."</span>)</span>
<span id="cb2-39"></span>
<span id="cb2-40"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># buscamos a posicao do onibus no momento da execucao</span></span>
<span id="cb2-41">posicao_response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sessao.get(</span>
<span id="cb2-42">    <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>BASE_URL<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/Posicao/Linha"</span>,</span>
<span id="cb2-43">    params<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"codigoLinha"</span>: codigo_linha}</span>
<span id="cb2-44">)</span>
<span id="cb2-45"></span>
<span id="cb2-46">posicoes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> posicao_response.json()</span>
<span id="cb2-47"></span>
<span id="cb2-48"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pegamos a posicao inicial da rota</span></span>
<span id="cb2-49">lat_base <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> paradas[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"py"</span>]</span>
<span id="cb2-50">lon_base <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> paradas[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px"</span>]</span>
<span id="cb2-51"></span>
<span id="cb2-52">mapa <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> folium.Map(location<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[lat_base, lon_base], zoom_start<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>)</span>
<span id="cb2-53"></span>
<span id="cb2-54"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aqui adicionamos os marcadores nas paradas</span></span>
<span id="cb2-55"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> parada <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> paradas:</span>
<span id="cb2-56">    folium.Marker(</span>
<span id="cb2-57">        location<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[parada[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"py"</span>], parada[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px"</span>]],</span>
<span id="cb2-58">        popup<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Parada: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>parada[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'np'</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb2-59">        icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>folium.Icon(color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"info-sign"</span>)</span>
<span id="cb2-60">    ).add_to(mapa)</span>
<span id="cb2-61"></span>
<span id="cb2-62"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aqui adicionamos os marcadores nos onibus</span></span>
<span id="cb2-63"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> veiculo <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> posicoes[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vs"</span>]:</span>
<span id="cb2-64">    folium.Marker(</span>
<span id="cb2-65">        location<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[veiculo[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"py"</span>], veiculo[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px"</span>]],</span>
<span id="cb2-66">        popup<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Ônibus - Prefixo: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>veiculo[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'p'</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb2-67">        icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>folium.Icon(color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>, icon<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bus"</span>)</span>
<span id="cb2-68">    ).add_to(mapa)</span>
<span id="cb2-69"></span>
<span id="cb2-70">display(mapa)</span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>linhas retornadas pela API:
{'cl': 2506, 'lc': False, 'lt': '8000', 'sl': 1, 'tl': 1, 'tp': 'PÇA. RAMOS DE AZEVEDO', 'ts': 'TERM. LAPA'}
{'cl': 35274, 'lc': False, 'lt': '8000', 'sl': 2, 'tl': 1, 'tp': 'PÇA. RAMOS DE AZEVEDO', 'ts': 'TERM. LAPA'}
{'cl': 1273, 'lc': False, 'lt': '8000', 'sl': 1, 'tl': 10, 'tp': 'PÇA. RAMOS DE AZEVEDO', 'ts': 'TERM. LAPA'}
{'cl': 34041, 'lc': False, 'lt': '8000', 'sl': 2, 'tl': 10, 'tp': 'PÇA. RAMOS DE AZEVEDO', 'ts': 'TERM. LAPA'}
Código da linha: 2506
Paradas encontradas: 15</code></pre>
</div>
<div class="cell-output cell-output-display">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -&gt; Trust Notebook</span><iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_f1bf41ed99df34a099a1697863aa53ec {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_f1bf41ed99df34a099a1697863aa53ec&quot; ></div>
        
</body>
<script>
    
    
            var map_f1bf41ed99df34a099a1697863aa53ec = L.map(
                &quot;map_f1bf41ed99df34a099a1697863aa53ec&quot;,
                {
                    center: [-23.534564, -46.654302],
                    crs: L.CRS.EPSG3857,
                    ...{
  &quot;zoom&quot;: 13,
  &quot;zoomControl&quot;: true,
  &quot;preferCanvas&quot;: false,
}

                }
            );

            

        
    
            var tile_layer_bc8f8265766e9feb9350eb45c857b435 = L.tileLayer(
                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,
                {
  &quot;minZoom&quot;: 0,
  &quot;maxZoom&quot;: 19,
  &quot;maxNativeZoom&quot;: 19,
  &quot;noWrap&quot;: false,
  &quot;attribution&quot;: &quot;\u0026copy; \u003ca href=\&quot;https://www.openstreetmap.org/copyright\&quot;\u003eOpenStreetMap\u003c/a\u003e contributors&quot;,
  &quot;subdomains&quot;: &quot;abc&quot;,
  &quot;detectRetina&quot;: false,
  &quot;tms&quot;: false,
  &quot;opacity&quot;: 1,
}

            );
        
    
            tile_layer_bc8f8265766e9feb9350eb45c857b435.addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var marker_224fb545e4b3478fb77d2c8873a506fa = L.marker(
                [-23.534564, -46.654302],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_7a8e0876f3da622b07b17c3d9308d5e2 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_ef42b4523f6d92126fa67d373915d859 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_72b88e43281cb57f80a3baf2c06552ca = $(`<div id=&quot;html_72b88e43281cb57f80a3baf2c06552ca&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: ANGELICA B/C</div>`)[0];
                popup_ef42b4523f6d92126fa67d373915d859.setContent(html_72b88e43281cb57f80a3baf2c06552ca);
            
        

        marker_224fb545e4b3478fb77d2c8873a506fa.bindPopup(popup_ef42b4523f6d92126fa67d373915d859)
        ;

        
    
    
                marker_224fb545e4b3478fb77d2c8873a506fa.setIcon(icon_7a8e0876f3da622b07b17c3d9308d5e2);
            
    
            var marker_4097fa02718d509d988abb3f54208954 = L.marker(
                [-23.525799, -46.679251],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_5b4abb4426262bf84d7d171123e84148 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_c325ab3d52592860a5c7c6841af44f9b = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_261b9b546f36d8cdf2f3748464550d47 = $(`<div id=&quot;html_261b9b546f36d8cdf2f3748464550d47&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: PARADA PALMEIRAS B/C</div>`)[0];
                popup_c325ab3d52592860a5c7c6841af44f9b.setContent(html_261b9b546f36d8cdf2f3748464550d47);
            
        

        marker_4097fa02718d509d988abb3f54208954.bindPopup(popup_c325ab3d52592860a5c7c6841af44f9b)
        ;

        
    
    
                marker_4097fa02718d509d988abb3f54208954.setIcon(icon_5b4abb4426262bf84d7d171123e84148);
            
    
            var marker_a124c4828b506832c1731714130b3106 = L.marker(
                [-23.526523, -46.673588],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_09392d8066f892769ecf25dc3644c785 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_869ed08789fe25e9833d37c7bf900e5f = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_31e8a5ef95e78e6516da2b4ce2e7b351 = $(`<div id=&quot;html_31e8a5ef95e78e6516da2b4ce2e7b351&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: ANTARTICA B/C</div>`)[0];
                popup_869ed08789fe25e9833d37c7bf900e5f.setContent(html_31e8a5ef95e78e6516da2b4ce2e7b351);
            
        

        marker_a124c4828b506832c1731714130b3106.bindPopup(popup_869ed08789fe25e9833d37c7bf900e5f)
        ;

        
    
    
                marker_a124c4828b506832c1731714130b3106.setIcon(icon_09392d8066f892769ecf25dc3644c785);
            
    
            var marker_1acdc8414aff5cf12ead0ab5fb564344 = L.marker(
                [-23.528131, -46.670652],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_a0e8aaa6eeb91eec5c574d7a30d786e1 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_754887238509316ea80115698daafba8 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_5e5e1fb5ff9c35179c6d170c6031245b = $(`<div id=&quot;html_5e5e1fb5ff9c35179c6d170c6031245b&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: BABY BARIONY B/C</div>`)[0];
                popup_754887238509316ea80115698daafba8.setContent(html_5e5e1fb5ff9c35179c6d170c6031245b);
            
        

        marker_1acdc8414aff5cf12ead0ab5fb564344.bindPopup(popup_754887238509316ea80115698daafba8)
        ;

        
    
    
                marker_1acdc8414aff5cf12ead0ab5fb564344.setIcon(icon_a0e8aaa6eeb91eec5c574d7a30d786e1);
            
    
            var marker_d095b63491394a01814a8db86aaca907 = L.marker(
                [-23.53021, -46.6669],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_a5fc777f97a89b3288899744e4428080 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_100206ffaa99fd4814d64f6dbce13787 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_96ec548f34a4a29c21badecfdaf0bf98 = $(`<div id=&quot;html_96ec548f34a4a29c21badecfdaf0bf98&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: PQ. DA ÁGUA BRANCA B/C</div>`)[0];
                popup_100206ffaa99fd4814d64f6dbce13787.setContent(html_96ec548f34a4a29c21badecfdaf0bf98);
            
        

        marker_d095b63491394a01814a8db86aaca907.bindPopup(popup_100206ffaa99fd4814d64f6dbce13787)
        ;

        
    
    
                marker_d095b63491394a01814a8db86aaca907.setIcon(icon_a5fc777f97a89b3288899744e4428080);
            
    
            var marker_d2a060d0d0ee0506b2e72cb0830acf2a = L.marker(
                [-23.52494, -46.698995],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_10e046652e02ed36feac67c9455f6911 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_8e026d89240cf62580b37f75a3876605 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_f181d3358b39dff253ab432220f676dd = $(`<div id=&quot;html_f181d3358b39dff253ab432220f676dd&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: SCIPIAO B/C</div>`)[0];
                popup_8e026d89240cf62580b37f75a3876605.setContent(html_f181d3358b39dff253ab432220f676dd);
            
        

        marker_d2a060d0d0ee0506b2e72cb0830acf2a.bindPopup(popup_8e026d89240cf62580b37f75a3876605)
        ;

        
    
    
                marker_d2a060d0d0ee0506b2e72cb0830acf2a.setIcon(icon_10e046652e02ed36feac67c9455f6911);
            
    
            var marker_5379cb35f0e038fdd8f8e6b04e7ec361 = L.marker(
                [-23.524994, -46.695297],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_4c2c4c8167f1717139f4a40b937ab955 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_b638e9b4fe1a76054b9e67b82bb313be = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_0a48e304478610d2e9a3eb7754561de8 = $(`<div id=&quot;html_0a48e304478610d2e9a3eb7754561de8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: VESPASIANO B/C</div>`)[0];
                popup_b638e9b4fe1a76054b9e67b82bb313be.setContent(html_0a48e304478610d2e9a3eb7754561de8);
            
        

        marker_5379cb35f0e038fdd8f8e6b04e7ec361.bindPopup(popup_b638e9b4fe1a76054b9e67b82bb313be)
        ;

        
    
    
                marker_5379cb35f0e038fdd8f8e6b04e7ec361.setIcon(icon_4c2c4c8167f1717139f4a40b937ab955);
            
    
            var marker_3fa81fdc2cb75e2ed83ac0b98c4769b5 = L.marker(
                [-23.525029, -46.690074],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_25d56c354bc0234aa1e728834473689d = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_4a035555d9d79a4af8de83451d9bd963 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_341a659178b5d76769a186003cb13db4 = $(`<div id=&quot;html_341a659178b5d76769a186003cb13db4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: CORNELIA</div>`)[0];
                popup_4a035555d9d79a4af8de83451d9bd963.setContent(html_341a659178b5d76769a186003cb13db4);
            
        

        marker_3fa81fdc2cb75e2ed83ac0b98c4769b5.bindPopup(popup_4a035555d9d79a4af8de83451d9bd963)
        ;

        
    
    
                marker_3fa81fdc2cb75e2ed83ac0b98c4769b5.setIcon(icon_25d56c354bc0234aa1e728834473689d);
            
    
            var marker_1f32bbdb36b78be96df8cef573ecaf9d = L.marker(
                [-23.523407, -46.700541],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_32b7d675608bee4482bf7c6d6f940f56 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_5b37cc3e72e08d5c70c56e8ae28141e0 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_deb1d4e64e6e1312dfa735a4e6d38ed8 = $(`<div id=&quot;html_deb1d4e64e6e1312dfa735a4e6d38ed8&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: CATAO B/C</div>`)[0];
                popup_5b37cc3e72e08d5c70c56e8ae28141e0.setContent(html_deb1d4e64e6e1312dfa735a4e6d38ed8);
            
        

        marker_1f32bbdb36b78be96df8cef573ecaf9d.bindPopup(popup_5b37cc3e72e08d5c70c56e8ae28141e0)
        ;

        
    
    
                marker_1f32bbdb36b78be96df8cef573ecaf9d.setIcon(icon_32b7d675608bee4482bf7c6d6f940f56);
            
    
            var marker_79ffbe5666ba686387bf4de815842167 = L.marker(
                [-23.52517, -46.683408],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_fb90abfdce68f8307e5ed6f5486c2b3b = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_5a5376d767fe02fd1dae97f95adf07fa = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_c17129e4717c82ccffde3ebbc50913c1 = $(`<div id=&quot;html_c17129e4717c82ccffde3ebbc50913c1&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: SESC POMPEIA B/C</div>`)[0];
                popup_5a5376d767fe02fd1dae97f95adf07fa.setContent(html_c17129e4717c82ccffde3ebbc50913c1);
            
        

        marker_79ffbe5666ba686387bf4de815842167.bindPopup(popup_5a5376d767fe02fd1dae97f95adf07fa)
        ;

        
    
    
                marker_79ffbe5666ba686387bf4de815842167.setIcon(icon_fb90abfdce68f8307e5ed6f5486c2b3b);
            
    
            var marker_3d1100f6e2b954cb648473bd8b91ad5f = L.marker(
                [-23.540545, -46.643624],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_a186f528fa26bf64dda56ab68b3aa0bc = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_6efc5d45a3abc098b0630270d5139213 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_914d81540d859845d3f2df67e34857ea = $(`<div id=&quot;html_914d81540d859845d3f2df67e34857ea&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: VITORIA B/C</div>`)[0];
                popup_6efc5d45a3abc098b0630270d5139213.setContent(html_914d81540d859845d3f2df67e34857ea);
            
        

        marker_3d1100f6e2b954cb648473bd8b91ad5f.bindPopup(popup_6efc5d45a3abc098b0630270d5139213)
        ;

        
    
    
                marker_3d1100f6e2b954cb648473bd8b91ad5f.setIcon(icon_a186f528fa26bf64dda56ab68b3aa0bc);
            
    
            var marker_5a7701edb279e1c2a8f8675a96595fd3 = L.marker(
                [-23.532847, -46.657404],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_4658f261b2162507d9a3ec000e0dcf47 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_5bc38bda30a002ebc8da03809e0ed048 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_c01e4170eb7cf6ba69cea83d9cd6b413 = $(`<div id=&quot;html_c01e4170eb7cf6ba69cea83d9cd6b413&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: ROSA E SILVA C/B</div>`)[0];
                popup_5bc38bda30a002ebc8da03809e0ed048.setContent(html_c01e4170eb7cf6ba69cea83d9cd6b413);
            
        

        marker_5a7701edb279e1c2a8f8675a96595fd3.bindPopup(popup_5bc38bda30a002ebc8da03809e0ed048)
        ;

        
    
    
                marker_5a7701edb279e1c2a8f8675a96595fd3.setIcon(icon_4658f261b2162507d9a3ec000e0dcf47);
            
    
            var marker_2be451329b356b7d63e3796c89de5ce7 = L.marker(
                [-23.538708, -46.646888],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_6db718d4441705058fa4d8044add5550 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_ebd2b2f33e14672971cd0f6592e7d842 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_897efce91317b37b2929b769b4020757 = $(`<div id=&quot;html_897efce91317b37b2929b769b4020757&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: ANA CINTRA B/C</div>`)[0];
                popup_ebd2b2f33e14672971cd0f6592e7d842.setContent(html_897efce91317b37b2929b769b4020757);
            
        

        marker_2be451329b356b7d63e3796c89de5ce7.bindPopup(popup_ebd2b2f33e14672971cd0f6592e7d842)
        ;

        
    
    
                marker_2be451329b356b7d63e3796c89de5ce7.setIcon(icon_6db718d4441705058fa4d8044add5550);
            
    
            var marker_21bff1dcb0875f2d1a220a58167a56f4 = L.marker(
                [-23.532068, -46.660957],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_3391fbcc6bf51750f8a4f21fdf3f8241 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_22e1f0087575e72a6ce6341e0af442ae = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ca0f16d8700cc311307a2560244e97df = $(`<div id=&quot;html_ca0f16d8700cc311307a2560244e97df&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: PACAEMBU B/C</div>`)[0];
                popup_22e1f0087575e72a6ce6341e0af442ae.setContent(html_ca0f16d8700cc311307a2560244e97df);
            
        

        marker_21bff1dcb0875f2d1a220a58167a56f4.bindPopup(popup_22e1f0087575e72a6ce6341e0af442ae)
        ;

        
    
    
                marker_21bff1dcb0875f2d1a220a58167a56f4.setIcon(icon_3391fbcc6bf51750f8a4f21fdf3f8241);
            
    
            var marker_87af3ab86743366269be47e9cb2af255 = L.marker(
                [-23.536318, -46.651201],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_ffe42a7c26670528a91b1ad9f6b153fe = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;red&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;info-sign&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_945f38214f0dc494b9006d8019783bbb = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ee9e85f18ba0f22e9b6e90f76931e1d6 = $(`<div id=&quot;html_ee9e85f18ba0f22e9b6e90f76931e1d6&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Parada: NOTHMANN C/B</div>`)[0];
                popup_945f38214f0dc494b9006d8019783bbb.setContent(html_ee9e85f18ba0f22e9b6e90f76931e1d6);
            
        

        marker_87af3ab86743366269be47e9cb2af255.bindPopup(popup_945f38214f0dc494b9006d8019783bbb)
        ;

        
    
    
                marker_87af3ab86743366269be47e9cb2af255.setIcon(icon_ffe42a7c26670528a91b1ad9f6b153fe);
            
    
            var marker_5b9bcef73f0eb176ce329583a22fb11d = L.marker(
                [-23.525031499999997, -46.683977999999996],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_a223edb37a353abf19e8709ab5375852 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;blue&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;bus&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_a02a32cb85dc5ea6eb13926e17ae53af = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_46eb1daf816f468e812fd1ba766c1937 = $(`<div id=&quot;html_46eb1daf816f468e812fd1ba766c1937&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ônibus - Prefixo: 12608</div>`)[0];
                popup_a02a32cb85dc5ea6eb13926e17ae53af.setContent(html_46eb1daf816f468e812fd1ba766c1937);
            
        

        marker_5b9bcef73f0eb176ce329583a22fb11d.bindPopup(popup_a02a32cb85dc5ea6eb13926e17ae53af)
        ;

        
    
    
                marker_5b9bcef73f0eb176ce329583a22fb11d.setIcon(icon_a223edb37a353abf19e8709ab5375852);
            
    
            var marker_d59324541bb509d5a8a913ab227540f0 = L.marker(
                [-23.537240500000003, -46.649546875],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_669471ba83bbba101bec92f923255df2 = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;blue&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;bus&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_9eee3315553629a00cf8949cb157a41d = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_41520271364d1cc6bca6d51bdc2c2fd4 = $(`<div id=&quot;html_41520271364d1cc6bca6d51bdc2c2fd4&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ônibus - Prefixo: 12613</div>`)[0];
                popup_9eee3315553629a00cf8949cb157a41d.setContent(html_41520271364d1cc6bca6d51bdc2c2fd4);
            
        

        marker_d59324541bb509d5a8a913ab227540f0.bindPopup(popup_9eee3315553629a00cf8949cb157a41d)
        ;

        
    
    
                marker_d59324541bb509d5a8a913ab227540f0.setIcon(icon_669471ba83bbba101bec92f923255df2);
            
    
            var marker_0ba950d23c6902e65cb29210688d9b20 = L.marker(
                [-23.547683499999998, -46.6411495],
                {
}
            ).addTo(map_f1bf41ed99df34a099a1697863aa53ec);
        
    
            var icon_1f38da1ba552f4956a99e4118bbba82a = L.AwesomeMarkers.icon(
                {
  &quot;markerColor&quot;: &quot;blue&quot;,
  &quot;iconColor&quot;: &quot;white&quot;,
  &quot;icon&quot;: &quot;bus&quot;,
  &quot;prefix&quot;: &quot;glyphicon&quot;,
  &quot;extraClasses&quot;: &quot;fa-rotate-0&quot;,
}
            );
        
    
        var popup_4ef551d19d980545e31ee1e1d248ae70 = L.popup({
  &quot;maxWidth&quot;: &quot;100%&quot;,
});

        
            
                var html_ed234fb946b590d5b95fb3ce5012eac2 = $(`<div id=&quot;html_ed234fb946b590d5b95fb3ce5012eac2&quot; style=&quot;width: 100.0%; height: 100.0%;&quot;>Ônibus - Prefixo: 12678</div>`)[0];
                popup_4ef551d19d980545e31ee1e1d248ae70.setContent(html_ed234fb946b590d5b95fb3ce5012eac2);
            
        

        marker_0ba950d23c6902e65cb29210688d9b20.bindPopup(popup_4ef551d19d980545e31ee1e1d248ae70)
        ;

        
    
    
                marker_0ba950d23c6902e65cb29210688d9b20.setIcon(icon_1f38da1ba552f4956a99e4118bbba82a);
            
</script>
</html>" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>
</div>
<p>Agora com o mapa gerado, podemos acompanhar os ônibus <strong>(marcadores azuis)</strong> e as paradas dessa linha <strong>(marcadores vermelhos)</strong>.</p>



 ]]></description>
  <category>api</category>
  <category>code</category>
  <category>python</category>
  <category>mapa</category>
  <guid>https://your-website-url.example.com/posts/welcome/</guid>
  <pubDate>Sun, 23 Nov 2025 00:00:00 GMT</pubDate>
  <media:content url="https://your-website-url.example.com/posts/welcome/sptrans.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Regressão linear</title>
  <dc:creator>Luigi Del Vecchio</dc:creator>
  <link>https://your-website-url.example.com/posts/atividade 3/</link>
  <description><![CDATA[ 





<p><strong>Atividade 03</strong></p>
<p>Nesta atividade, utilizei a formula matricial da regressão linear para ajustar uma reta aos dados de anos de estudo e salário.</p>
<p>Primeiro vamos começar carregando os dois arquivos de textos (x,y), e em seguida criamos a matriz.</p>
<div id="df9fa367" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-2"></span>
<span id="cb1-3">valores_x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.loadtxt(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x.txt"</span>)</span>
<span id="cb1-4">valores_y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.loadtxt(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y.txt"</span>)</span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># montamos a matriz</span></span>
<span id="cb1-7">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.column_stack((np.ones(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(valores_x)), valores_x))</span>
<span id="cb1-8"></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># transformamos y em coluna</span></span>
<span id="cb1-10">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> valores_y.reshape(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb1-11"></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aplicamos a formula da regressao linear</span></span>
<span id="cb1-13">beta <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.linalg.inv(x.T <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span> x) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span> x.T <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">@</span> y</span>
<span id="cb1-14"></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aqui separamos os coeficientes</span></span>
<span id="cb1-16">a <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]</span>
<span id="cb1-17">b <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]</span>
<span id="cb1-18"></span>
<span id="cb1-19"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Intercepto (a):"</span>, a)</span>
<span id="cb1-20"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Inclinação (b):"</span>, b)</span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>Intercepto (a): 373.93446839130695
Inclinação (b): 991.6278332981966</code></pre>
</div>
</div>
<p>Após feita a matriz agora é hora de montar um gráfico que vai exibir esse cálculo para nós:</p>
<div id="bfa7d4db" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> plotnine <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> (</span>
<span id="cb3-2">    ggplot, aes, geom_point, geom_abline, theme, labs</span>
<span id="cb3-3">)</span>
<span id="cb3-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb3-5"></span>
<span id="cb3-6">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame({</span>
<span id="cb3-7">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Anos de Estudo"</span>: valores_x,</span>
<span id="cb3-8">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Salário"</span>: valores_y</span>
<span id="cb3-9">})</span>
<span id="cb3-10"></span>
<span id="cb3-11">plot <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb3-12">    ggplot(df, aes(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Anos de Estudo"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Salário"</span>))</span>
<span id="cb3-13">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> geom_point()</span>
<span id="cb3-14">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> geom_abline(intercept<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>a, slope<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>b)</span>
<span id="cb3-15">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> labs(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Anos de Estudo"</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Salário (R$)"</span>)</span>
<span id="cb3-16">    <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> theme(subplots_adjust<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'right'</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.95</span>})</span>
<span id="cb3-17">)</span>
<span id="cb3-18"></span>
<span id="cb3-19">plot.draw()</span></code></pre></div></div>
<div class="cell-output cell-output-stderr">
<pre><code>/home/codespace/.python/current/lib/python3.12/site-packages/plotnine/themes/themeable.py:2486: FutureWarning: You no longer need to use subplots_adjust to make space for the legend or text around the panels. This parameter will be removed in a future version. You can still use 'plot_margin' 'panel_spacing' for your other spacing needs.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>
<figure class="figure">
<p><img src="https://your-website-url.example.com/posts/atividade 3/index_files/figure-html/cell-3-output-2.png" width="691" height="499" class="figure-img"></p>
</figure>
</div>
</div>
</div>



 ]]></description>
  <category>code</category>
  <category>python</category>
  <category>grafico</category>
  <guid>https://your-website-url.example.com/posts/atividade 3/</guid>
  <pubDate>Sun, 23 Nov 2025 00:00:00 GMT</pubDate>
  <media:content url="https://your-website-url.example.com/posts/atividade 3/regressao.png" medium="image" type="image/png" height="88" width="144"/>
</item>
</channel>
</rss>
